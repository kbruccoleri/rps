<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <script>
    function computerPlay() {
      if (Math.floor(Math.random()*3) == 0) {
        return 'ROCK';
      }
      else if (Math.floor(Math.random()*3) >1) {
        return 'PAPER';
      }
      else return 'SCISSORS';
    }
    //console.log(`Computer is ${computerPlay()}`);

    function playRound(playerSelection, computerSelection) {
      if (playerSelection.toUpperCase() == "ROCK") {
        
        if (computerSelection == "ROCK") {
          return `"Tie Game"`
        }        
        if (computerSelection == "PAPER") {
          return `"You Lose!" ${computerSelection} beats ${playerSelection.toUpperCase()}`
        }
        if (computerSelection == "SCISSORS") {
          return `"You Win!" ${playerSelection.toUpperCase()} beats ${computerSelection}`
        }

      }

      if (playerSelection.toUpperCase() == "PAPER") {
        
        if (computerSelection == "ROCK") {
          return `"You Win!" ${playerSelection.toUpperCase()} beats ${computerSelection}`
        }        
        if (computerSelection == "PAPER") {
          return `"Tie Game"`
        }
        if (computerSelection == "SCISSORS") {
          return `"You Lose!" ${computerSelection} beats ${playerSelection.toUpperCase()}`
        }

      }

      if (playerSelection.toUpperCase() == "SCISSORS") {
        
        if (computerSelection == "ROCK") {
          return `"You Lose!" ${computerSelection} beats ${playerSelection.toUpperCase()}`
        }        
        if (computerSelection == "PAPER") {
          return `"You Win!" ${playerSelection.toUpperCase()} beats ${computerSelection}`
        }
        if (computerSelection == "SCISSORS") {
          return `"Tie Game"`
        }

      }

      }

      function game() { 
        let playerSelection = "xxx";
        let computerSelection = "yyy";
        let playerScore = 0;
        let computerScore = 0;

        for (let i = 0; i <5; i++) {
          playerSelection = prompt("Rock, paper or scissors?");
          computerSelection = computerPlay();
          console.log(`Computer is ${computerSelection}`);
          console.log(`User is ${playerSelection.toUpperCase()}`);
          let result = playRound(playerSelection, computerSelection);
          console.log(result);
          if (result.includes("Win")) {
            playerScore = playerScore+1; 
          }
          if (result.includes("Lose")) {
            computerScore = computerScore+1;
          }
          console.log(`The Score is ${playerScore} - ${computerScore}`);

        } 

        if (playerScore > computerScore) {
          console.log("you are the winner");
        }
        else {
            console.log(`too bad`);
        }
      }

    console.log(game());
    
  </script>
  
</body>
</html>